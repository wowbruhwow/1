<!-- SPDX-License-Identifier: LicenseRef-CityLegends-Proprietary-Docs -->

# Технічна специфікація: компоненти кнопок

Цей документ описує **кнопки** для інтерфейсу *City Legends*: CTA-кнопки, Secondary/Ghost, іконкові кнопки, а також **перемикачі (Toggle)**.  
Усі значення кольорів/токенів — див. у `design/screenshots_photos/website_design/SITE_LOGIC.md`.

> **Приватно та конфіденційно.** Матеріали призначені лише для внутрішнього використання авторизованими учасниками проєкту.

---

## 1) Палітра та стани

**Базові типи**
- **CTA / Primary** — основна дія на сторінці/модалі.
- **Secondary** — другорядна дія.
- **Ghost / Tertiary** — нейтральна дія в межах блоку/карти.
- **Danger** — деструктивні дії (видалення/вихід/скидання).
- **Icon Button** — кругла/квадратна кнопка лише з іконкою.
- **Toggle Button** — кнопка-перемикач станів.

**Обов’язкові стани для кожного типу**
- `default` — звичайний стан
- `hover` — при наведенні
- `active`/`pressed` — під час кліку
- `focus-visible` — клавіатурний фокус (чітке кільце фокусу)
- `disabled` — неактивна
- `loading` (за потреби) — зі спінером, недоступна для взаємодії

> **Контрастність:** для тексту/іконок на кнопці ціль ≥ **4.5:1** (WCAG AA).

---

## 2) Розміри та відступи

Мінімальний тач-таргет — **44×44 px**. Висоти по шкалі 8-піксельної сітки.

| Розмір | Висота | Гор. паддінг | Текст | Іконка |
|-------:|:------:|:------------:|:-----:|:------:|
| **S**  | 32 px  | 12–14 px     | 14 px | 16 px  |
| **M**  | 40 px  | 16 px        | 16 px | 20 px  |
| **L**  | 48 px  | 20 px        | 16–18 px | 20–24 px |

- Радіус скруглення, тіні, товщина бордера — згідно токенів з `SITE_LOGIC.md`.
- Іконка зліва від лейбла: **8 px** проміжок (S/M), **10–12 px** (L).

### 2.1. Специфікація окремих кнопок

| Назва | Тип | Стиль | Логіка |
| :--- | :--- | :--- | :--- |
| **Button_Start** | CTA | Primary. Висота **XL_CUSTOM (параметр 223х59)**. | Основна дія на екрані Home. Використовує токени `Primary` з `SITE_LOGIC.md`. |
| **Button_Reset** | Secondary/Danger | Використовує стиль **Danger**. | При натисканні відкидає зміни. |
| **Button_QUESTION (?)** | Icon Button | Висота **XL_CUSTOM (параметр 100х100)**. | Іконка використовує колір `Акцент` з лобі. |
| **Button_Back** | Icon Button/Secondary | Використовує стиль **Secondary/Ghost**. | Навігація назад. |
| **Button_Save** | CTA | Primary. Висота **XL_CUSTOM (параметр 242х66)**. | Збереження даних у модальному вікні. **При взаємодії зберігає будь-які змінені дані (біографія та нік гравця) на сервері.** |
| **Button_Edit** (Олівець) | Icon Button/Tertiary | Використовує стиль **Tertiary**. | **Активує режим редагування ніку та біографії гравця.** |
| **Button_Retry** (Повторити) | Secondary | Використовує стиль **Secondary/Info**. | З'являється після повідомлення про помилку/попередження. Повторює останню дію (наприклад, спробу підключення). |
| **Button_Support** (Лист) | Tertiary/Link | Використовує стиль **Link/Tertiary**. | **З'являється після повідомлення про помилку/попередження. Працює як кнопка-посилання на e-mail підтримки.** |
| **Button_Logout** | Secondary/Danger | Використовує стиль **Danger** (червоний акцент). | Критична дія. Розриває сесію та перекидає на вікно авторизації. |
| **Icon_Social** | Icon Button / Link | Ghost/Tertiary. Висота **32x32px** (або за дизайн-токеном). | **Кнопка-посилання** (Link Button) на зовнішні ресурси (Discord, Telegram, Instagram). Не має внутрішньої логіки додатку. |

---

## 3) Специфіка для Toggle

Toggle має два сталі стани: **On** / **Off**.  
Кнопка зберігає фокус-кільце, стан читається скрінрідерами через `aria-pressed`.

**HTML (приклад):**
```html
<button class="btn btn--toggle" aria-pressed="false">Toggle</button>
```

**Зміна стану (JS/ARIA):**
```js
btn.addEventListener('click', () => {
  const pressed = btn.getAttribute('aria-pressed') === 'true';
  btn.setAttribute('aria-pressed', String(!pressed));
});
```

---

## 4) Стан `loading`

- Відображайте **спінер** зліва від тексту (або замість іконки).  
- `pointer-events: none;` і `aria-busy="true"`; кнопка вважається неактивною до завершення дії.  
- Текст не має стрибати — зарезервуйте місце під спінер.

---

## 5) Доступність (A11y)

- Фокус-стиль не приховувати: видиме кільце фокусу (контрастне до фону).  
- `aria-label` обов’язковий для іконкових кнопок без тексту.  
- Розпізнавані підказки: **title**/tooltip або `aria-describedby` для неочевидних дій.  
- Не покладайтеся лише на колір (додавайте іконку/лейбл для станів).

---

## 6) Неймінг класів (рекомендація для FE)

БЕМ-подібна схема:
- Блок: `btn`  
- Модифікатори: `btn--primary | --secondary | --ghost | --danger | --icon | --toggle`  
- Розмір: `btn--s | btn--m | btn--l`  
- Стан (data-атрибути/ARIA/клас): `[data-loading]`, `.is-loading`, `[aria-pressed="true"]`

**Приклад:**
```html
<button class="btn btn--primary btn--m">Confirm</button>
<button class="btn btn--ghost btn--s" aria-label="Close">
  <svg aria-hidden="true">…</svg>
</button>
<button class="btn btn--toggle btn--m" aria-pressed="true">Classic</button>
```

---

## 7) Дозволено / Не дозволено

**Do**
- Узгоджуйте кольори/токени з `SITE_LOGIC.md`.
- Додавайте `disabled` тільки якщо є логічна причина (і пояснення користувачу).
- Перевіряйте ховер/фокус і на темних, і на світлих фонах.

**Don’t**
- Не змінюйте радіуси/тіні «локально» — лише через токени.
- Не використовуйте лише колір для індикації небезпечної дії — додавайте текст/іконку “!”.
- Не перевантажуйте CTA на сторінці — **одна** головна дія.

---

## 8) Посилання та ресурси

- **Figma (сторінка компонентів):** https://www.figma.com/design/dff4bnMz6NAjeUceuhmrPM/Untitled?node-id=49-2&p=f&t=qG0TsHGjbwX8aLNb-0  
- **Скріншоти (поруч у цій папці):**
  - [`Button_CTA_States.png`](./Button_CTA_States.png) — стани головних кнопок (Почати/Підтвердити/Увійти).
  - [`Button_Toggle_States.png`](./Button_Toggle_States.png) — стани перемикачів (Довільний, Швидка/Класична).

> Якщо додаєте нові зображення/відео — **обов’язково** створіть sidecar `filename.ext.license` зі строкою:  
> `SPDX-License-Identifier: LicenseRef-CityLegends-Proprietary-Assets`.

